import urllib.request
import json

# Funktion zum Abrufen von Ländern, Hauptstädten, Einwohnerzahlen und Flaggen
def get_country_data():
    url = "https://restcountries.com/v3.1/all"
    try:
        # Abruf der Daten
        with urllib.request.urlopen(url) as response:
            data = json.loads(response.read().decode())

        country_list = []
        for country in data:
            name = country.get('name', {}).get('common', 'Unbekannt')
            capital = country.get('capital', ['Unbekannt'])[0]
            population = country.get('population', 'Unbekannt')
            flag_url = country.get('flags', {}).get('png', 'Keine Flagge verfügbar')
            country_list.append((name, capital, population, flag_url))

        return country_list

    except Exception as e:
        print(f"Fehler beim Abruf der Daten: {e}")
        return []

# Funktion zum Anzeigen der Länder-Liste
def display_country_list():
    country_list = get_country_data()
    if country_list:
        for country, capital, population, flag_url in country_list:
            print(f"Land: {country}, Hauptstadt: {capital}, Bevölkerung: {population}, Flagge: {flag_url}")
    else:
        print("Keine Daten verfügbar.")

# Hauptfunktion
def main():
    display_country_list()

if __name__ == "__main__":
    main()

